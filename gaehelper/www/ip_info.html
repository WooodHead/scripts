<html>
<head>
    <!--dataTable-->
    <script type="text/javascript" language="javascript" src="inc/dbtb/js/jquery.js"></script>
    <script type="text/javascript" language="javascript" src="inc/dbtb/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="inc/common.js"></script>
    <style type="text/css" title="currentStyle">
        @import "inc/dbtb/css/jquery.dataTables_themeroller.css";
        @import "inc/dbtb/css/jquery.dataTables.min.css";
    </style>
    <!--visualize-->
    <link href="inc/visualize/css/basic.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="inc/visualize/js/enhance.js"></script>
    <script type="text/javascript">
        // Run capabilities test
        enhance({
            loadScripts: [
                {src: 'inc/visualize/js/excanvas.js', iecondition: 'all'},
                'inc/visualize/js/visualize.jQuery.js'
            ],
            loadStyles: [
                'inc/visualize/css/visualize.css',
                'inc/visualize/css/visualize-dark.css'
            ]
        });

        $(document).ready(function(tb, data) {
            update_tabledata(
                '../ip_history'+document.location.search,
                'ip_history',
                0,
                function(tb, data) {
                    aaData = [];
                    col = []
                    for (i in data['aaData']){
                        aaData.push(parseFloat(data['aaData'][i][0]));
                        col.push({"sTitle": i})
                    }
                    // console.log(data['aaData']);
                    data['aaData'] = [aaData];
                    data["aoColumns"] = col;
                    $(tb).DataTable(data);
                    w = '' + data['aaData'][0].length*20 + 'px';
                    console.log(w);
                    $(tb).visualize({type: 'bar'});
                    $(tb).visualize({type: 'line'});
                    // $(tb).visualize({type: 'line', width: w});
                    // $(tb).visualize({type: 'line', width: '100%'});
                    // $(tb).visualize({type: 'area', width: '100%'});
                    // $(tb).visualize({type: 'char', width: '100%'});
                }
            );
        });
    </script>
</head>
<body class='body'>

<div id="currdiv">
    <table id="ip_history" class="display dataTable">
    </table>
</div>

</body>
</html>